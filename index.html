<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <meta name="theme-color" content="#0B1F3B" />
  <title>Phoenix Automobile ‚Äî Estimation gratuite</title>
  <meta name="description" content="Estimation gratuite ‚Äî vente ou achat de v√©hicule. Phoenix Automobile vous recontacte rapidement." />

  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">

  <style>
    :root{
      --navy:#0B1F3B;          /* bleu branding */
      --navy-2:#0F2A52;
      --orange:#F28C28;        /* orange branding */
      --orange-2:#FFB25A;
      --bg:#07152A;
      --card:rgba(255,255,255,.06);
      --card2:rgba(255,255,255,.10);
      --text:#EAF0FF;
      --muted:rgba(234,240,255,.72);
      --danger:#FF4D4D;
      --success:#2ECC71;
      --shadow: 0 18px 60px rgba(0,0,0,.45);
      --radius: 22px;
    }

    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family:Inter, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      color:var(--text);
      background:
        radial-gradient(1200px 600px at 20% 10%, rgba(242,140,40,.20), transparent 55%),
        radial-gradient(1000px 600px at 80% 0%, rgba(12,59,120,.35), transparent 55%),
        radial-gradient(1000px 700px at 50% 100%, rgba(255,178,90,.10), transparent 60%),
        linear-gradient(180deg, var(--bg), #040B16 70%);
      overflow-x:hidden;
    }

    /* Subtle background waves */
    .waves{
      position:fixed;
      inset:-20%;
      pointer-events:none;
      opacity:.45;
      filter: blur(2px);
      background:
        linear-gradient(135deg, rgba(255,255,255,.06) 0 12%, transparent 12% 24%, rgba(255,255,255,.05) 24% 36%, transparent 36% 48%, rgba(255,255,255,.04) 48% 60%, transparent 60% 100%);
      transform: rotate(-8deg);
    }

    .container{
      width:min(1100px, 92vw);
      margin:0 auto;
      padding:34px 0 80px;
      position:relative;
      z-index:1;
    }

    /* Header */
    .topbar{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:18px;
      margin-bottom:22px;
    }

    .brand{
      display:flex;
      align-items:center;
      gap:14px;
      min-width:260px;
    }
    .logo{
      width:46px;height:46px;
      border-radius:50%;
      background:
        radial-gradient(circle at 35% 30%, var(--orange-2), var(--orange) 55%, rgba(242,140,40,.65) 100%);
      box-shadow: 0 10px 30px rgba(242,140,40,.25);
      display:grid;
      place-items:center;
      position:relative;
      overflow:hidden;
    }
    .logo:after{
      content:"";
      position:absolute;
      width:120%;
      height:120%;
      left:-30%;
      top:-30%;
      background: radial-gradient(circle at 30% 20%, rgba(255,255,255,.35), transparent 50%);
      transform: rotate(20deg);
    }
    .logo svg{
      width:26px;height:26px;
      filter: drop-shadow(0 6px 10px rgba(0,0,0,.25));
      z-index:1;
    }

    .brand h1{
      margin:0;
      letter-spacing:.14em;
      font-size:18px;
      font-weight:800;
      line-height:1.1;
    }
    .brand span{
      display:block;
      font-weight:600;
      letter-spacing:.22em;
      opacity:.85;
      font-size:12px;
      margin-top:2px;
    }

    .quick{
      display:flex;
      align-items:center;
      gap:10px;
      flex-wrap:wrap;
      justify-content:flex-end;
    }
    .pill{
      display:inline-flex;
      align-items:center;
      gap:10px;
      padding:10px 14px;
      border-radius:999px;
      background: rgba(255,255,255,.06);
      border:1px solid rgba(255,255,255,.12);
      color:var(--text);
      text-decoration:none;
      font-weight:600;
      font-size:13px;
      transition: transform .15s ease, background .15s ease, border-color .15s ease;
      backdrop-filter: blur(8px);
    }
    .pill:hover{
      transform: translateY(-1px);
      background: rgba(255,255,255,.09);
      border-color: rgba(255,255,255,.18);
    }
    .pill.orange{
      background: linear-gradient(180deg, rgba(242,140,40,.98), rgba(242,140,40,.84));
      border-color: rgba(242,140,40,.55);
      color:#08152C;
      box-shadow: 0 14px 40px rgba(242,140,40,.20);
    }
    .pill.orange:hover{
      background: linear-gradient(180deg, rgba(255,178,90,.98), rgba(242,140,40,.92));
      border-color: rgba(255,178,90,.65);
    }

    /* Main layout */
    .grid{
      display:grid;
      grid-template-columns: 1.05fr .95fr;
      gap:18px;
      align-items:start;
    }

    @media (max-width: 960px){
      .grid{grid-template-columns:1fr; gap:16px;}
      .brand{min-width:unset}
      .quick{justify-content:flex-start}
      .topbar{flex-direction:column; align-items:flex-start}
    }

    .hero{
      background: linear-gradient(180deg, rgba(255,255,255,.08), rgba(255,255,255,.05));
      border:1px solid rgba(255,255,255,.12);
      border-radius: var(--radius);
      padding:24px;
      box-shadow: var(--shadow);
      position:relative;
      overflow:hidden;
    }
    .hero:before{
      content:"";
      position:absolute;
      inset:-2px;
      background:
        radial-gradient(600px 220px at 20% 0%, rgba(242,140,40,.20), transparent 60%),
        radial-gradient(600px 220px at 80% 0%, rgba(12,59,120,.35), transparent 60%);
      pointer-events:none;
    }
    .hero > *{position:relative}

    .kicker{
      display:inline-flex;
      gap:10px;
      align-items:center;
      font-weight:700;
      color: rgba(234,240,255,.92);
      font-size:13px;
      letter-spacing:.08em;
      text-transform:uppercase;
    }
    .badge{
      width:10px;height:10px;border-radius:50%;
      background: var(--success);
      box-shadow: 0 0 0 6px rgba(46,204,113,.12);
    }

    .title{
      margin:12px 0 10px;
      font-size:42px;
      line-height:1.05;
      font-weight:800;
      letter-spacing:-.03em;
    }
    .subtitle{
      margin:0 0 16px;
      color: var(--muted);
      font-size:14.5px;
      line-height:1.5;
    }

    .bullets{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap:10px 14px;
      margin: 12px 0 18px;
      padding:0;
      list-style:none;
    }
    @media (max-width: 520px){ .bullets{grid-template-columns:1fr;} }

    .bullets li{
      display:flex;
      gap:10px;
      align-items:flex-start;
      font-size:13px;
      color: rgba(234,240,255,.88);
      background: rgba(255,255,255,.04);
      border:1px solid rgba(255,255,255,.08);
      padding:10px 12px;
      border-radius: 14px;
    }
    .check{
      width:18px;height:18px;border-radius:6px;
      background: rgba(46,204,113,.20);
      border:1px solid rgba(46,204,113,.40);
      display:grid;
      place-items:center;
      margin-top:1px;
      flex:0 0 auto;
    }
    .check svg{width:12px;height:12px; fill: var(--success);}

    /* Form card */
    .card{
      background: linear-gradient(180deg, rgba(255,255,255,.08), rgba(255,255,255,.05));
      border:1px solid rgba(255,255,255,.12);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      overflow:hidden;
    }

    .card-head{
      padding:18px 18px 14px;
      border-bottom:1px solid rgba(255,255,255,.10);
      background:
        linear-gradient(180deg, rgba(11,31,59,.85), rgba(11,31,59,.35));
    }
    .card-head h2{
      margin:0;
      font-size:16px;
      font-weight:800;
      letter-spacing:.02em;
    }
    .card-head p{
      margin:6px 0 0;
      color: rgba(234,240,255,.74);
      font-size:13px;
      line-height:1.45;
    }

    .progress{
      margin-top:14px;
      display:flex;
      align-items:center;
      gap:12px;
    }
    .meter{
      flex:1;
      height:10px;
      border-radius:999px;
      background: rgba(255,255,255,.08);
      border:1px solid rgba(255,255,255,.10);
      overflow:hidden;
    }
    .meter > div{
      height:100%;
      width:0%;
      background: linear-gradient(90deg, var(--orange), rgba(242,140,40,.55));
      border-radius:999px;
      transition: width .35s ease;
    }
    .steptext{
      font-weight:800;
      font-size:12px;
      letter-spacing:.08em;
      color: rgba(234,240,255,.85);
      min-width:74px;
      text-align:right;
    }

    .card-body{ padding:18px; }

    .steps{
      display:flex;
      gap:10px;
      margin-bottom:14px;
    }
    .dot{
      flex:1;
      display:flex;
      align-items:center;
      gap:10px;
      padding:10px 12px;
      border-radius: 14px;
      background: rgba(255,255,255,.04);
      border:1px solid rgba(255,255,255,.08);
      font-size:12px;
      color: rgba(234,240,255,.80);
      user-select:none;
    }
    .dot strong{
      width:26px;height:26px;
      border-radius: 10px;
      display:grid;
      place-items:center;
      background: rgba(255,255,255,.07);
      border:1px solid rgba(255,255,255,.10);
      font-weight:900;
      color: rgba(234,240,255,.85);
    }
    .dot.active{
      border-color: rgba(242,140,40,.55);
      background: rgba(242,140,40,.12);
    }
    .dot.done{
      border-color: rgba(46,204,113,.55);
      background: rgba(46,204,113,.10);
    }
    .dot.done strong{
      background: rgba(46,204,113,.20);
      border-color: rgba(46,204,113,.40);
      color: var(--success);
    }

    .panel{ display:none; animation: fade .20s ease; }
    .panel.active{ display:block; }
    @keyframes fade{from{opacity:.2; transform: translateY(4px);}to{opacity:1; transform:none;}}

    .row{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap:12px;
      margin-top:12px;
    }
    @media (max-width: 520px){ .row{grid-template-columns:1fr;} }

    .field{
      display:flex;
      flex-direction:column;
      gap:7px;
    }
    label{
      font-size:12px;
      font-weight:700;
      letter-spacing:.02em;
      color: rgba(234,240,255,.80);
    }
    input, select, textarea{
      width:100%;
      padding:12px 12px;
      border-radius: 14px;
      border:1px solid rgba(255,255,255,.14);
      background: rgba(0,0,0,.18);
      color: var(--text);
      outline:none;
      font-size:14px;
      transition: border-color .15s ease, box-shadow .15s ease, background .15s ease;
    }
    input::placeholder, textarea::placeholder{ color: rgba(234,240,255,.38); }

    input:focus, select:focus, textarea:focus{
      border-color: rgba(242,140,40,.70);
      box-shadow: 0 0 0 6px rgba(242,140,40,.12);
      background: rgba(0,0,0,.22);
    }
    textarea{ min-height: 110px; resize: vertical; }

    .choice{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap:12px;
      margin-top:12px;
    }
    @media (max-width: 520px){ .choice{grid-template-columns:1fr;} }

    .radio{
      border-radius: 16px;
      border:1px solid rgba(255,255,255,.14);
      background: rgba(255,255,255,.04);
      padding:14px 14px;
      cursor:pointer;
      transition: transform .15s ease, border-color .15s ease, background .15s ease;
      display:flex;
      gap:12px;
      align-items:flex-start;
    }
    .radio:hover{ transform: translateY(-1px); border-color: rgba(255,255,255,.20); }
    .radio input{ width:18px; height:18px; margin-top:2px; }
    .radio h3{
      margin:0;
      font-size:14px;
      font-weight:800;
    }
    .radio p{
      margin:4px 0 0;
      font-size:12.5px;
      color: rgba(234,240,255,.70);
      line-height:1.35;
    }
    .radio.selected{
      border-color: rgba(242,140,40,.70);
      background: rgba(242,140,40,.12);
      box-shadow: 0 0 0 6px rgba(242,140,40,.08);
    }

    .hint{
      margin-top:10px;
      font-size:12.5px;
      color: rgba(234,240,255,.70);
      line-height:1.45;
      background: rgba(255,255,255,.04);
      border:1px solid rgba(255,255,255,.08);
      padding:10px 12px;
      border-radius:14px;
    }
    .hint strong{ color: rgba(234,240,255,.90); }

    .actions{
      display:flex;
      gap:10px;
      justify-content:space-between;
      align-items:center;
      margin-top:16px;
      padding-top:14px;
      border-top:1px solid rgba(255,255,255,.10);
    }
    .btn{
      display:inline-flex;
      align-items:center;
      justify-content:center;
      gap:10px;
      padding:12px 14px;
      border-radius: 14px;
      border:1px solid rgba(255,255,255,.14);
      background: rgba(255,255,255,.05);
      color: var(--text);
      font-weight:800;
      letter-spacing:.02em;
      cursor:pointer;
      transition: transform .15s ease, background .15s ease, border-color .15s ease, opacity .15s ease;
      text-decoration:none;
      min-width: 120px;
    }
    .btn:hover{ transform: translateY(-1px); background: rgba(255,255,255,.08); border-color: rgba(255,255,255,.20); }
    .btn:disabled{ opacity:.45; cursor:not-allowed; transform:none; }

    .btn.primary{
      background: linear-gradient(180deg, rgba(242,140,40,.98), rgba(242,140,40,.84));
      border-color: rgba(242,140,40,.55);
      color:#08152C;
      box-shadow: 0 14px 40px rgba(242,140,40,.18);
    }
    .btn.primary:hover{
      background: linear-gradient(180deg, rgba(255,178,90,.98), rgba(242,140,40,.92));
      border-color: rgba(255,178,90,.65);
    }

    .status{
      margin-top:12px;
      display:none;
      border-radius: 16px;
      padding:12px 12px;
      border:1px solid rgba(255,255,255,.12);
      background: rgba(255,255,255,.05);
      font-size:13px;
      line-height:1.4;
      color: rgba(234,240,255,.86);
    }
    .status.show{ display:block; }
    .status.error{
      border-color: rgba(255,77,77,.55);
      background: rgba(255,77,77,.10);
      color: rgba(255,220,220,.95);
    }
    .status.success{
      border-color: rgba(46,204,113,.55);
      background: rgba(46,204,113,.10);
      color: rgba(220,255,235,.95);
    }

    .final{
      display:none;
      padding:18px;
    }
    .final.show{ display:block; }
    .final .big{
      margin:0;
      font-size:18px;
      font-weight:900;
      letter-spacing:.01em;
    }
    .final .small{
      margin:8px 0 0;
      color: rgba(234,240,255,.75);
      font-size:13px;
      line-height:1.5;
    }
    .tick{
      width:42px;height:42px;
      border-radius: 16px;
      background: rgba(46,204,113,.18);
      border:1px solid rgba(46,204,113,.45);
      display:grid;
      place-items:center;
      margin-bottom:10px;
    }
    .tick svg{ width:24px;height:24px; fill: var(--success); }

    footer{
      margin-top:14px;
      color: rgba(234,240,255,.55);
      font-size:12px;
      text-align:center;
    }

    /* Honeypot hidden */
    .hp{position:absolute; left:-9999px; width:1px; height:1px; overflow:hidden;}
  </style>
</head>

<body>
  <div class="waves"></div>

  <div class="container">
    <!-- Top -->
    <div class="topbar">
      <div class="brand" aria-label="Phoenix Automobile">
        <div class="logo" aria-hidden="true">
          <!-- simple phoenix icon -->
          <svg viewBox="0 0 24 24">
            <path d="M12 2c.7 2.1 2.2 3.7 4.2 4.8-1.8.3-3.4.1-4.8-.7.7 2.1 2.2 3.7 4.2 4.8-2.4.4-4.5-.2-6.1-1.8.1 2.1.9 3.9 2.4 5.2-2.8-.3-5-1.7-6.4-4.2.1 5.2 3.8 8.7 10.7 8.7S23.6 20.4 23.7 15c-1.4 2.5-3.6 3.9-6.4 4.2 1.5-1.3 2.3-3.1 2.4-5.2-1.6 1.6-3.7 2.2-6.1 1.8 2-1.1 3.5-2.7 4.2-4.8-1.4.8-3 .9-4.8.7C14.8 9.6 16.3 8 17 5.9 15.6 6.7 13.9 6.9 12 6.5 10.1 6.9 8.4 6.7 7 5.9 7.7 8 9.2 9.6 11.2 10.7c-1.8.3-3.4.1-4.8-.7.7 2.1 2.2 3.7 4.2 4.8-2.4.4-4.5-.2-6.1-1.8.1 2.1.9 3.9 2.4 5.2-2.8-.3-5-1.7-6.4-4.2.1 6.6 5 10.9 11.6 10.9S23.5 21.4 23.7 15c-1.4 2.5-3.6 3.9-6.4 4.2 1.5-1.3 2.3-3.1 2.4-5.2-1.6 1.6-3.7 2.2-6.1 1.8 2-1.1 3.5-2.7 4.2-4.8-1.4.8-3 .9-4.8.7C14.8 9.6 16.3 8 17 5.9c-1.4.8-3 .9-5 .6z"/>
          </svg>
        </div>
        <div>
          <h1>PHOENIX</h1>
          <span>AUTOMOBILE</span>
        </div>
      </div>

      <div class="quick">
        <a class="pill" href="tel:+33663620397">üìû Appeler</a>
        <a class="pill orange" href="https://wa.me/33663620397" target="_blank" rel="noopener">üí¨ WhatsApp ‚Äî estimation gratuite</a>
      </div>
    </div>

    <div class="grid">
      <!-- Left hero -->
      <section class="hero">
        <div class="kicker"><span class="badge"></span> R√©ponse rapide ‚Äî disponible 7j/7</div>
        <h2 class="title">Vendez (ou achetez) votre v√©hicule simplement.</h2>
        <p class="subtitle">
          Saint-Brieuc / C√¥tes-d‚ÄôArmor ‚Äî s√©lection d‚Äôacheteurs, accompagnement, vente s√©curis√©e.
          Remplis le formulaire : je te recontacte avec un rendez-vous rapidement.
        </p>

        <ul class="bullets">
          <li><span class="check" aria-hidden="true"><svg viewBox="0 0 24 24"><path d="M9.2 16.2 4.9 12l1.4-1.4 2.9 2.9 8.5-8.5L19 6.4z"/></svg></span> Estimation gratuite</li>
          <li><span class="check" aria-hidden="true"><svg viewBox="0 0 24 24"><path d="M9.2 16.2 4.9 12l1.4-1.4 2.9 2.9 8.5-8.5L19 6.4z"/></svg></span> Acheteurs filtr√©s</li>
          <li><span class="check" aria-hidden="true"><svg viewBox="0 0 24 24"><path d="M9.2 16.2 4.9 12l1.4-1.4 2.9 2.9 8.5-8.5L19 6.4z"/></svg></span> Accompagnement administratif</li>
          <li><span class="check" aria-hidden="true"><svg viewBox="0 0 24 24"><path d="M9.2 16.2 4.9 12l1.4-1.4 2.9 2.9 8.5-8.5L19 6.4z"/></svg></span> Paiement s√©curis√©</li>
        </ul>

        <div class="hint">
          <strong>Important :</strong> ce formulaire n‚Äôengage √† rien. Il sert √† pr√©parer un √©change rapide et carr√©.
        </div>
      </section>

      <!-- Right form -->
      <section class="card" aria-label="Formulaire Phoenix Automobile">
        <div class="card-head">
          <h2>Estimation / Demande</h2>
          <p>3 √©tapes. Simple. Propre. On √©vite les allers-retours inutiles.</p>

          <div class="progress" aria-label="Progression">
            <div class="meter"><div id="meterFill"></div></div>
            <div class="steptext" id="stepText">1/3</div>
          </div>
        </div>

        <div class="card-body">
          <!-- step indicators -->
          <div class="steps" aria-hidden="true">
            <div class="dot active" id="dot1"><strong>1</strong> Type</div>
            <div class="dot" id="dot2"><strong>2</strong> V√©hicule</div>
            <div class="dot" id="dot3"><strong>3</strong> Client</div>
          </div>

          <!-- Status -->
          <div id="status" class="status" role="status" aria-live="polite"></div>

          <!-- Panels -->
          <form id="phoenixForm" novalidate>
            <!-- honeypot anti spam -->
            <div class="hp">
              <label>Ne pas remplir<input type="text" id="website" name="website" autocomplete="off"></label>
            </div>

            <!-- STEP 1 -->
            <div class="panel active" id="panel1">
              <label>1 ‚Äî Vous souhaitez :</label>
              <div class="choice" role="radiogroup" aria-label="Acheter ou vendre">
                <div class="radio" id="pickVendre" tabindex="0">
                  <input type="radio" name="typeDemande" value="Vendre" id="typeVendre" />
                  <div>
                    <h3>Vendre un v√©hicule</h3>
                    <p>Je veux le vendre rapidement, au meilleur prix, en √©tant encadr√©.</p>
                  </div>
                </div>

                <div class="radio" id="pickAcheter" tabindex="0">
                  <input type="radio" name="typeDemande" value="Acheter" id="typeAcheter" />
                  <div>
                    <h3>Acheter un v√©hicule</h3>
                    <p>Je cherche un v√©hicule, je veux une s√©lection et un suivi s√©rieux.</p>
                  </div>
                </div>
              </div>

              <div class="actions">
                <span style="color:rgba(234,240,255,.65);font-size:12px;font-weight:700;">
                  √âtape 1 sur 3
                </span>
                <button type="button" class="btn primary" id="next1">Continuer ‚Üí</button>
              </div>
            </div>

            <!-- STEP 2 -->
            <div class="panel" id="panel2">
              <label>2 ‚Äî Infos v√©hicule</label>
              <div class="row">
                <div class="field">
                  <label for="modele">Mod√®le du v√©hicule</label>
                  <input id="modele" name="modele" type="text" placeholder="Ex : BMW M4 Competition" autocomplete="off" />
                </div>
                <div class="field">
                  <label for="annee">Ann√©e</label>
                  <input id="annee" name="annee" type="number" inputmode="numeric" min="1900" max="2100" placeholder="Ex : 2021" />
                </div>
              </div>

              <div class="field" style="margin-top:12px;">
                <label for="details">D√©tails (optionnel)</label>
                <textarea id="details" name="details" placeholder="Kilom√©trage, bo√Æte, carburant, √©tat, budget, urgence, etc."></textarea>
              </div>

              <div class="actions">
                <button type="button" class="btn" id="back2">‚Üê Retour</button>
                <button type="button" class="btn primary" id="next2">Continuer ‚Üí</button>
              </div>
            </div>

            <!-- STEP 3 -->
            <div class="panel" id="panel3">
              <label>3 ‚Äî Infos client</label>

              <div class="row">
                <div class="field">
                  <label for="nom">Nom</label>
                  <input id="nom" name="nom" type="text" placeholder="Nom" autocomplete="family-name" />
                </div>
                <div class="field">
                  <label for="prenom">Pr√©nom</label>
                  <input id="prenom" name="prenom" type="text" placeholder="Pr√©nom" autocomplete="given-name" />
                </div>
              </div>

              <div class="row">
                <div class="field">
                  <label for="cp">Code postal</label>
                  <input id="cp" name="cp" type="text" inputmode="numeric" placeholder="22000" autocomplete="postal-code" />
                </div>
                <div class="field">
                  <label for="ville">Ville</label>
                  <input id="ville" name="ville" type="text" placeholder="Saint-Brieuc" autocomplete="address-level2" />
                </div>
              </div>

              <div class="field" style="margin-top:12px;">
                <label for="contact">Contact (num√©ro ou email)</label>
                <input id="contact" name="contact" type="text" placeholder="06‚Ä¶ ou email@exemple.com" autocomplete="tel" />
              </div>

              <div class="field" style="margin-top:12px;">
                <label for="creneau">Cr√©neau souhait√© pour √™tre rappel√©</label>
                <input id="creneau" name="creneau" type="text" placeholder="Ex : mardi apr√®s-midi / demain 18h / etc." />
              </div>

              <div class="actions">
                <button type="button" class="btn" id="back3">‚Üê Retour</button>
                <button type="submit" class="btn primary" id="submitBtn">Envoyer ‚úÖ</button>
              </div>
            </div>
          </form>

          <!-- Final message -->
          <div class="final" id="final">
            <div class="tick" aria-hidden="true">
              <svg viewBox="0 0 24 24"><path d="M9.2 16.2 4.9 12l1.4-1.4 2.9 2.9 8.5-8.5L19 6.4z"/></svg>
            </div>
            <p class="big">3/3 ‚Äî Demande envoy√©e.</p>
            <p class="small">
              Phoenix Automobile vous enverra un message pour vous proposer un rendez-vous dans les plus brefs d√©lais.
            </p>

            <div class="hint" style="margin-top:14px;">
              Tu peux fermer cette page, c‚Äôest bon. ‚úÖ
            </div>
          </div>
        </div>

        <footer>
          ¬© Phoenix Automobile ‚Äî Interm√©diation entre particuliers.
        </footer>
      </section>
    </div>
  </div>

  <script>
    // === CONFIG ===
    const ENDPOINT_URL = "https://script.google.com/macros/s/AKfycby8XrrhPsyJR_1IKZ53u6K8cc0jPSPyvvAQAElHMYuShJhKaRtiR3ETY8CNy-HAi_VH/exec";

    // === UI helpers ===
    const $ = (id) => document.getElementById(id);

    const meterFill = $("meterFill");
    const stepText  = $("stepText");
    const statusBox = $("status");

    const dot1 = $("dot1"), dot2 = $("dot2"), dot3 = $("dot3");
    const panel1 = $("panel1"), panel2 = $("panel2"), panel3 = $("panel3");
    const final = $("final");
    const form = $("phoenixForm");

    const next1 = $("next1"), next2 = $("next2");
    const back2 = $("back2"), back3 = $("back3");
    const submitBtn = $("submitBtn");

    const pickVendre  = $("pickVendre");
    const pickAcheter = $("pickAcheter");
    const typeVendre  = $("typeVendre");
    const typeAcheter = $("typeAcheter");

    const modele  = $("modele");
    const annee   = $("annee");
    const nom     = $("nom");
    const prenom  = $("prenom");
    const cp      = $("cp");
    const ville   = $("ville");
    const contact = $("contact");
    const creneau = $("creneau");
    const details = $("details");
    const honeypot = $("website");

    let step = 1;

    function setStatus(msg, kind){
      statusBox.textContent = msg || "";
      statusBox.className = "status" + (msg ? " show" : "");
      if(msg && kind) statusBox.classList.add(kind);
    }

    function setStep(n){
      step = n;
      // panels
      panel1.classList.toggle("active", n===1);
      panel2.classList.toggle("active", n===2);
      panel3.classList.toggle("active", n===3);

      // dots
      [dot1,dot2,dot3].forEach(d => d.classList.remove("active","done"));
      if(n===1){ dot1.classList.add("active"); }
      if(n===2){ dot1.classList.add("done"); dot2.classList.add("active"); }
      if(n===3){ dot1.classList.add("done"); dot2.classList.add("done"); dot3.classList.add("active"); }

      // progress
      const pct = n===1 ? 33 : n===2 ? 66 : 100;
      meterFill.style.width = pct + "%";
      stepText.textContent = n + "/3";

      setStatus("");
      window.scrollTo({top:0, behavior:"smooth"});
    }

    function selectType(val){
      const isV = val === "Vendre";
      typeVendre.checked = isV;
      typeAcheter.checked = !isV;

      pickVendre.classList.toggle("selected", isV);
      pickAcheter.classList.toggle("selected", !isV);
    }

    // clickable cards
    pickVendre.addEventListener("click", () => selectType("Vendre"));
    pickAcheter.addEventListener("click", () => selectType("Acheter"));
    pickVendre.addEventListener("keydown", (e) => { if(e.key==="Enter"||e.key===" "){ e.preventDefault(); selectType("Vendre"); }});
    pickAcheter.addEventListener("keydown", (e) => { if(e.key==="Enter"||e.key===" "){ e.preventDefault(); selectType("Acheter"); }});

    // default selection (optional): none
    // selectType("Vendre");

    function isEmail(v){
      return /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(String(v||"").trim());
    }
    function isPhone(v){
      // French-ish tolerant
      const s = String(v||"").replace(/[^\d+]/g,"");
      return s.length >= 10;
    }
    function clean(v){
      return String(v ?? "").replace(/\s+/g," ").trim();
    }
    function yearOk(y){
      const n = Number(y);
      const now = new Date().getFullYear();
      return Number.isFinite(n) && n >= 1900 && n <= now + 1;
    }
    function cpOk(v){
      const s = clean(v);
      return /^\d{5}$/.test(s);
    }

    function validateStep1(){
      if(!typeVendre.checked && !typeAcheter.checked){
        setStatus("Choisis ‚ÄúAcheter‚Äù ou ‚ÄúVendre‚Äù pour continuer.", "error");
        return false;
      }
      return true;
    }

    function validateStep2(){
      if(clean(modele.value).length < 2){
        setStatus("Indique au moins le mod√®le du v√©hicule.", "error");
        modele.focus();
        return false;
      }
      if(!yearOk(annee.value)){
        setStatus("Indique une ann√©e valide (ex : 2021).", "error");
        annee.focus();
        return false;
      }
      return true;
    }

    function validateStep3(){
      if(clean(nom.value).length < 2){ setStatus("Nom requis.", "error"); nom.focus(); return false; }
      if(clean(prenom.value).length < 2){ setStatus("Pr√©nom requis.", "error"); prenom.focus(); return false; }
      if(!cpOk(cp.value)){ setStatus("Code postal invalide (5 chiffres).", "error"); cp.focus(); return false; }
      if(clean(ville.value).length < 2){ setStatus("Ville requise.", "error"); ville.focus(); return false; }

      const c = clean(contact.value);
      if(!(isEmail(c) || isPhone(c))){
        setStatus("Contact invalide : mets un email ou un num√©ro.", "error");
        contact.focus();
        return false;
      }

      if(clean(creneau.value).length < 3){
        setStatus("Indique un cr√©neau de rappel (ex : mardi aprem).", "error");
        creneau.focus();
        return false;
      }
      return true;
    }

    next1.addEventListener("click", () => {
      if(validateStep1()) setStep(2);
    });
    back2.addEventListener("click", () => setStep(1));

    next2.addEventListener("click", () => {
      if(validateStep2()) setStep(3);
    });
    back3.addEventListener("click", () => setStep(2));

    // Submit
    form.addEventListener("submit", async (e) => {
      e.preventDefault();
      setStatus("");

      // honeypot
      if(clean(honeypot.value)){
        setStatus("Erreur. R√©essaye plus tard.", "error");
        return;
      }

      if(!validateStep1()) { setStep(1); return; }
      if(!validateStep2()) { setStep(2); return; }
      if(!validateStep3()) { return; }

      submitBtn.disabled = true;
      submitBtn.textContent = "Envoi‚Ä¶";

      const payload = {
        typeDemande: typeVendre.checked ? "Vendre" : "Acheter",
        modele: clean(modele.value),
        annee: clean(annee.value),
        details: clean(details.value),
        nom: clean(nom.value),
        prenom: clean(prenom.value),
        cp: clean(cp.value),
        ville: clean(ville.value),
        contact: clean(contact.value),
        creneau: clean(creneau.value),
        source: location.href,
        ts: new Date().toISOString()
      };

      try{
        const res = await fetch(ENDPOINT_URL, {
          method: "POST",
          mode: "cors",
          headers: { "Content-Type": "text/plain;charset=utf-8" },
          body: JSON.stringify(payload)
        });

        // Apps Script parfois renvoie 200 mais CORS/opaque selon config.
        // On tente de lire quand m√™me :
        let ok = true;
        try{
          const data = await res.json();
          ok = !!data.ok;
          if(!ok) throw new Error(data.error || "Erreur serveur");
        }catch(_){
          // Si JSON illisible mais HTTP ok, on consid√®re OK
          ok = res.ok;
        }

        if(!ok) throw new Error("Erreur serveur");
        setStatus("‚úÖ Demande envoy√©e. Merci !", "success");

        // show final
        form.style.display = "none";
        final.classList.add("show");
        // make dots green
        dot3.classList.remove("active");
        dot3.classList.add("done");
        stepText.textContent = "3/3";
        meterFill.style.width = "100%";

      }catch(err){
        console.error(err);
        setStatus("Impossible d‚Äôenvoyer pour le moment. R√©essaie dans 1 minute (ou change de r√©seau).", "error");
        submitBtn.disabled = false;
        submitBtn.textContent = "Envoyer ‚úÖ";
      }
    });

    // init
    setStep(1);
  </script>
</body>
</html>
